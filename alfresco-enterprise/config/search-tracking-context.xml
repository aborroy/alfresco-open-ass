<?xml version='1.0' encoding='UTF-8'?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd">
    
    <bean id="search.custom.trackingComponent" class="org.alfresco.repo.solr.SOLRTrackingComponentImpl" init-method="init">
        <property name="permissionService" ref="permissionService"/>
        <property name="dictionaryService" ref="dictionaryService"/>
        <property name="ownableService" ref="ownableService"/>
        <property name="tenantService" ref="tenantService"/>
        <property name="nodeDAO" ref="nodeDAO"/>
        <property name="qnameDAO" ref="qnameDAO"/>
        <property name="searchDAO" ref="searchDAO" />
        <property name="dictionaryDAO" ref="dictionaryDAO" />
        <property name="aclDAO" ref="aclDAO" />
        <property name="enabled">
            <value>true</value>
        </property>
        <property name="typeIndexFilter" ref="search.TypeIndexFilter" />
        <property name="aspectIndexFilter" ref="search.AspectIndexFilter" />
        <property name="namespaceService" ref="namespaceService" />
    </bean>

    <bean id="search.abstractIndexFilter" abstract="true" init-method="init" >
        <property name="namespaceService" ref="namespaceService"/>
        <property name="dictionaryService" ref="dictionaryService"/>
    </bean>
    
    <bean id="search.TypeIndexFilter" class="org.alfresco.repo.search.TypeIndexFilter" parent="search.abstractIndexFilter">
        <property name="ignorePathsForSpecificTypes">
            <value>false</value>
        </property>
        <property name="typesForIgnoringPaths">
            <list>
                <value>{http://www.alfresco.org/model/content/1.0}person</value>
                <value>{http://www.alfresco.org/model/application/1.0}configurations</value>
                <value>{http://www.alfresco.org/model/content/1.0}authorityContainer</value>
            </list>
        </property>
    </bean>
    
    <bean id="search.AspectIndexFilter" class="org.alfresco.repo.search.AspectIndexFilter" parent="search.abstractIndexFilter">
        <property name="ignorePathsForSpecificAspects">
            <value>false</value>
        </property>
        <property name="aspectsForIgnoringPaths">
            <list></list>
        </property>
    </bean>

    <bean id="searchTrackingComponent" class="org.alfresco.repo.management.subsystems.SubsystemProxyFactory">
      <property name="sourceApplicationContextFactory">
         <ref bean="Search" />
      </property>
      <property name="sourceBeanName">
         <value>search.custom.trackingComponent</value>
      </property>
      <property name="interfaces">
         <list>
            <value>org.alfresco.repo.search.SearchTrackingComponent</value>
         </list>
      </property>
   </bean>    
   
</beans>
